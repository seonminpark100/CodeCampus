<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>

<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>아이디중복체크하기</title>
		<script type="text/javascript">
		
			function idok(id){
				opener.writeFrm.id.value=document.writeFrm.id.value;
				//전달하면서 창을 닫겠다.
				self.close();
			}
		</script>
	</head>
	<body>
		<h3>아이디 중복확인</h3>
		<form action="idCheck.do" method="get" name="frm">
			아이디 : <input type="text" name="id" value="${id}">
				<input type="submit" value="중복 체크">
		</form>
		<c:if test="${result == 1}">
			<script>
				//opener란 이창을 열어준 창을 말한다. 즉 여기서는 회원가입폼
				opener.document.writeFrm.id.value = "";	//입력한 값을 없애줌
			</script>
			${id}는 이미 사용중인 아이디입니다.
		</c:if>
		
		<c:if test="${result == -1}">
			${id}는 사용가능한 아이디입니다.
			<input type="button" value="사용" onclick="return idok('${id}')">
		</c:if>
	</body>
</html>